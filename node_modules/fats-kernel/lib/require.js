//require
var _cache = {};
var fats = require('fats-kernel');
module.exports = function () {
	var path;
	var name = Array.prototype.slice.call(arguments, 0).join('-');
	if (_cache.hasOwnProperty(name)) return _cache[name];
	var names = [];
	try {
		var pluginName = 'fats' + '-' + name;
		names.push(pluginName);
		path = require.resolve(pluginName);
		try {
			return _cache[name] = require(pluginName);
		} catch (e) {
			fats.log.error('load plugin [' + pluginName + '] error : ' + e.message);
		}
	} catch (e) {
	}
	fats.log.error('unable to load plugin [' + names.join('] or [') + ']');
};