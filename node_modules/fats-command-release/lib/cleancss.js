var fats = require('fats-kernel');
//default config
fats.config.set({
	welcomePage: 'index.html',
	md5Length: 7,  // the length of timestamp
	cssCompatibility: 'ie7' // css minify compatibility
});

var CleanCSS = require('clean-css'),
	cleancss = new CleanCSS({
		compatibility: fats.config.get('cssCompatibility') || ''
	});

var cssString = fats.util.read('D:/web/demo/css/demo.css', true);
//console.log(cssString);

// 压缩单个css
var minimized = cleancss.minify(cssString);
console.log(cssString.length);
console.log(minimized.length);
console.log('----------------------------');

// 压缩多个css为一个
var cssFiles = [
	'D:/web/demo/css/demo.css',
	'D:/web/demo/css/demo2.css'
];
var temp = '';
for (var i = 0; i < cssFiles.length; i++) {
	temp += fats.util.read(cssFiles[i], true);
}
minimized = cleancss.minify(temp);
console.log(minimized);
console.log('----------------------------');

//
//console.log(fats.config.get('cssCompatibility'));
