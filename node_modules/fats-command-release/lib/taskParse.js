/*
 * task parse
 * */

var _ = module.exports = function () {

};

var fats = require('fats');


/*
 * 解析banner
 * */
_.banner = function (banner) {
	var taskConfig = fats.taskConfig;
	var result = banner.replace(/<%=\s?(.*?)\s?%>/g, function (match, key) {
		try {
			if (/^fats\./.test(key)) {
				return eval('taskConfig.' + key);
			} else {
				return eval('taskConfig.taskList.' + key);
			}
		} catch (e) {
			return key;
		}
	});
	return result;
};


/*
 * 解析test
 * */
_.test = function (argv) {
	return argv;
};